@page
@model ListViewModel
@{
    //var employeeschema = (Razor.Training.Models.Employee)Activator.CreateInstance((Model.Employees.GetType().GetGenericArguments().Single()));
    var employeeschema = new Razor.Training.Models.Employee();
    var employees = Model.Employees;

    var emp2 = (from emp in Model.Employees
                join pos in Model.Position on emp.PositionId equals pos.Id into a
                from b in a.DefaultIfEmpty(new Position())
                select new { Empno = emp.Empno, Name = emp.Name, Sex = emp.Sex, EnterDate = emp.EnterDate, Email = emp.Email, Position = b.Name }).ToList();

    //var emp2 = (from emp in Model.Employees
    //            join pos in Model.Position on emp.PositionId equals pos.Id into a
    //            from b in a.DefaultIfEmpty(new Position())
    //            select new { Empno = b.Id, Name = b.Name, Sex = b.Id, EnterDate = b.Id, Email = b.Id, Position = b.Name }).ToList();

}

<div class="table-responsive">
    <table class="table">
        <thead>
            <tr>
                <td class="align-middle"><label asp-for="@employeeschema.Empno"></label></td>
                <td class="align-middle"><label asp-for="@employeeschema.Name"></label></td>
                <td class="align-middle"><label asp-for="@employeeschema.Sex"></label></td>
                <td class="align-middle"><label asp-for="@employeeschema.EnterDate"></label></td>
                <td class="align-middle"><label asp-for="@employeeschema.Email"></label></td>
                <td class="align-middle"><label asp-for="@employeeschema.PositionId"></label></td>
            </tr>
        </thead>
        <tbody>
            @for (int i = 0; i < emp2.Count; i++)
            {
                var employee = emp2[i];

            <tr>
                <td class="align-middle">@employee.Empno</td>
                <td class="align-middle">@employee.Name</td>
                <td class="align-middle">@employee.Sex</td>
                <td class="align-middle">@employee.EnterDate</td>
                <td class="align-middle">@employee.Email</td>
                <td class="align-middle">@employee.Position</td>
            </tr>
            }
        </tbody>
    </table>
</div>